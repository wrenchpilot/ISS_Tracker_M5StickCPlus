body { background:#f8f9fa }
.leaflet-control-attribution { display:none }

/* Nearby Networks table: keep it inside the card and wrap long SSIDs */
#netTable { 
  max-height: 50vh;      /* scroll instead of growing forever */
  overflow: auto; 
}

#netTable .table {
  table-layout: fixed;   /* honor column widths, enable ellipsis/wrap */
  width: 100%;
}

/* Column widths: SSID gets the room, others stay compact */
#netTable th:nth-child(1), #netTable td:nth-child(1) { width: 70%; }
#netTable th:nth-child(2), #netTable td:nth-child(2) { width: 20%; }
#netTable th:nth-child(3), #netTable td:nth-child(3) { width: 10%; }

/* Wrap *anywhere* for absurdly long SSIDs */
.ssid-wrap {
  overflow-wrap: anywhere; /* modern, better than long-word only */
  word-break: break-word;  /* fallback */
}

/* Optional: make the whole setup page a bit wider */
.container.setup-max {
  max-width: 1100px;
}


/* Map box */
#map.map-box {
  height: 612px;
  border: 1px solid #ccc;
  border-radius: .5rem;
}

/* SSID list: use all width and contain long strings */
.ssid-select {
  width: 100%;
  max-width: 100%;
  min-height: 16rem;  /* visible height; combined with size attr */
  overflow-x: hidden;
}

/* Make navbar brand not wrap weirdly on tiny screens */
.navbar .navbar-brand { white-space: nowrap; }


/* Make the footer sit flush to the bottom of the viewport with no extra whitespace
   when page content is shorter than the viewport (sticky-footer pattern). */
html, body {
  height: 100%;
  margin: 0; /* reset any default body margin that can create white space */
}
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* The main page content container should grow to fill available space so the
   footer is pushed to the bottom when content is tall, or sits at the bottom
   of the viewport when content is short. This targets the top-level
   container used on index/setup pages (container-fluid px-4 py-3). */
body > .container-fluid.px-4.py-3 {
  flex: 1 0 auto;
}

/* Ensure footer has no bottom margin/padding that can create extra whitespace */
.site-footer {
  margin-bottom: 0;
  padding-bottom: 0.6rem;
}
/* ISS Tracker Map Styles */
#map {
  height: 100%;
  border-radius: .5rem;
  border: 1px solid #ccc;
  position: relative;
  box-sizing: border-box;
}

/* Map wrapper container to match sidebar height */
.map-wrapper {
  position: relative;
  height: 100%;
}

/* Match heights between columns */
.row.match-height {
  display: flex;
  align-items: flex-start;
}

.row.match-height > [class*='col-'] {
  display: flex;
  flex-direction: column;
}

/* Map wrapper - constrain to sidebar height */
.col-lg-9 .map-wrapper {
  height: 758px;
}

.col-lg-3,
.col-lg-4 {
  display: flex;
  flex-direction: column;
}

/* Responsive: on small screens, give map a fixed height */
@media (max-width: 991.98px) {
  #map {
    height: 400px !important;
  }
  
  .map-wrapper {
    height: 400px !important;
  }
  
  .row.match-height > [class*='col-'] {
    display: block;
  }
}

.leaflet-control-attribution {
  display: none;
}

.stat th {
  width: 42%;
}

.legend-horizontal {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: center;
}

.legend-horizontal > div {
  white-space: nowrap;
}

.map-controls {
  position: absolute;
  bottom: 10px;
  left: 10px;
  z-index: 1000;
  background: white;
  border-radius: 4px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.4);
  padding: 4px;
  display: flex;
  gap: 2px;
}

.map-controls button {
  width: 30px;
  height: 30px;
  padding: 0;
  border: none;
  background: white;
  cursor: pointer;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

.map-controls button:hover {
  background: #f4f4f4;
}

.legend-control {
  position: absolute;
  bottom: 10px;
  right: 10px;
  z-index: 1000;
  background: white;
  border-radius: 4px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.4);
}

.legend-toggle {
  width: 30px;
  height: 30px;
  padding: 0;
  border: none;
  background: white;
  cursor: pointer;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

.legend-toggle:hover {
  background: #f4f4f4;
}

.legend-panel {
  display: none;
  position: absolute;
  bottom: 40px;
  right: 0;
  background: white;
  border-radius: 4px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.4);
  padding: 10px;
  min-width: 200px;
  font-size: 0.875rem;
}

.legend-panel.show {
  display: block;
}

.legend-panel > div {
  margin-bottom: 6px;
  white-space: nowrap;
}

.legend-panel > div:last-child {
  margin-bottom: 0;
}

/* Map container wrapper */
.map-wrapper {
  position: relative;
}

/* Legend item indicators */
.legend-indicator-line {
  display: inline-block;
  width: 14px;
  height: 3px;
  margin-right: 6px;
}

.legend-indicator-line.track {
  background: #ff7f00;
}

.legend-indicator-line.prediction {
  background: #0d6efd;
  border-bottom: 3px dotted #0d6efd;
}

.legend-icon {
  display: inline-block;
  font-size: 16px;
  margin-right: 6px;
  vertical-align: middle;
}

/* Device screenshot display */
.device-screen {
  width: 100%;
  height: 100%;
  object-fit: contain;
  image-rendering: crisp-edges;
  display: block;
}

/* M5StickC Plus Device Frame */
.m5stick-device {
  display: inline-block;
  text-align: center;
}

.m5stick-body {
  position: relative;
  width: 300px;
  height: 180px;
  background: linear-gradient(145deg, #ff6b35 0%, #ff8c42 50%, #ff6b35 100%);
  border-radius: 8px;
  padding: 18px 30px;
  box-shadow: 
    0 6px 12px rgba(0,0,0,0.25),
    inset 0 1px 3px rgba(255,255,255,0.3),
    inset 0 -2px 4px rgba(0,0,0,0.2);
  margin: 0 auto;
}

/* M5 Logo embossed on left side - vertical */
.m5stick-body::before {
  content: 'M5';
  position: absolute;
  left: -10px;
  top: 50%;
  transform: translateY(-50%) rotate(90deg);
  font-size: 32px;
  font-weight: bold;
  color: rgba(0,0,0,0.2);
  text-shadow: 1px 1px 0 rgba(255,255,255,0.1);
  letter-spacing: 2px;
}

.m5stick-screen {
  width: 240px;
  height: 135px;
  background: #000;
  border-radius: 3px;
  overflow: hidden;
  box-shadow: 
    inset 0 0 8px rgba(0,0,0,0.8),
    inset 0 2px 4px rgba(0,0,0,0.6),
    0 0 0 2px rgba(0,0,0,0.4);
}

.m5stick-button {
  position: absolute;
  right: -6px;
  width: 12px;
  height: 24px;
  background: linear-gradient(to right, #1a252f, #2c3e50);
  border-radius: 2px;
  box-shadow: 
    inset -1px 1px 2px rgba(0,0,0,0.6),
    1px 0 2px rgba(255,255,255,0.1);
  font-size: 8px;
  color: rgba(236, 240, 241, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  letter-spacing: -0.5px;
}

.m5stick-button-a {
  top: 25px;
}

.m5stick-button-b {
  bottom: 25px;
}

/* USB-C connector at bottom */
.m5stick-power {
  position: absolute;
  left: 50%;
  bottom: -5px;
  transform: translateX(-50%);
  width: 18px;
  height: 8px;
  background: linear-gradient(to bottom, #1a1a1a, #2d2d2d);
  border-radius: 2px 2px 3px 3px;
  box-shadow: 
    inset 0 1px 2px rgba(0,0,0,0.6),
    0 1px 1px rgba(255,255,255,0.1);
}

/* USB-C port detail */
.m5stick-power::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 2px;
  background: #000;
  border-radius: 1px;
}

.m5stick-label {
  margin-top: 10px;
  font-size: 11px;
  color: #7f8c8d;
  font-weight: 600;
  letter-spacing: 0.5px;
}

/* Live Telemetry card - fixed height for consistent layout */
#telemetry {
  min-height: 280px;
}

/* Device Display card - fixed height to prevent layout shifts */
.card-body:has(.device-screen) {
  min-height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* Emoji marker icons - remove default Leaflet styling */
.iss-marker-icon,
.sun-marker-icon {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Privacy toggle for sensitive information */
.sensitive-info {
  filter: blur(5px);
  transition: filter 0.2s ease;
  cursor: pointer;
  user-select: none;
}

body.privacy-visible .sensitive-info {
  filter: blur(0);
}

/* Offline fallback styles for setup page when Bootstrap CDN fails */
@supports not (selector(:has(*))) {
  /* Basic Bootstrap fallback - only loaded if CDN unavailable */
}

/* Minimal Bootstrap-style layout fallback for AP mode (offline) */
body:not(.bootstrap-loaded) * { 
  box-sizing: border-box; 
}

body:not(.bootstrap-loaded) {
  font-family: system-ui, -apple-system, sans-serif;
  margin: 0;
  padding: 0;
  background: #f8f9fa;
}

body:not(.bootstrap-loaded) .container-fluid {
  /* max-width: 1200px; */
  margin: 0 auto;
  padding: 20px;
}

body:not(.bootstrap-loaded) .card {
  background: white;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

body:not(.bootstrap-loaded) .card-header {
  padding: 12px 16px;
  background: #007bff;
  color: white;
  border-radius: 8px 8px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

body:not(.bootstrap-loaded) .card-body {
  padding: 16px;
}

body:not(.bootstrap-loaded) .form-label {
  display: block;
  margin-bottom: 4px;
  font-weight: 500;
}

body:not(.bootstrap-loaded) .form-control,
body:not(.bootstrap-loaded) .form-select {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 14px;
}

body:not(.bootstrap-loaded) .form-select[size] {
  height: auto;
  min-height: 200px;
}

body:not(.bootstrap-loaded) .form-text {
  font-size: 12px;
  color: #6c757d;
  margin-top: 4px;
}

body:not(.bootstrap-loaded) .btn {
  display: inline-block;
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

body:not(.bootstrap-loaded) .btn-success {
  background: #28a745;
  color: white;
}

body:not(.bootstrap-loaded) .btn-danger {
  background: #dc3545;
  color: white;
}

body:not(.bootstrap-loaded) .btn-outline-light {
  background: transparent;
  color: white;
  border: 1px solid white;
}

body:not(.bootstrap-loaded) .btn-outline-secondary {
  background: transparent;
  color: #6c757d;
  border: 1px solid #6c757d;
}

body:not(.bootstrap-loaded) .btn-sm {
  padding: 4px 12px;
  font-size: 13px;
}

body:not(.bootstrap-loaded) .mb-3 {
  margin-bottom: 16px;
}

body:not(.bootstrap-loaded) .d-flex {
  display: flex;
}

body:not(.bootstrap-loaded) .gap-2 {
  gap: 8px;
}

body:not(.bootstrap-loaded) .row {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -8px;
}

body:not(.bootstrap-loaded) [class^="col-"] {
  padding: 0 8px;
}

body:not(.bootstrap-loaded) .col-12 {
  width: 100%;
}

body:not(.bootstrap-loaded) .col-sm-5 {
  width: 41.666667%;
}

body:not(.bootstrap-loaded) .col-sm-7 {
  width: 58.333333%;
}

body:not(.bootstrap-loaded) .col-lg-5 {
  width: 41.666667%;
}

body:not(.bootstrap-loaded) .col-lg-7 {
  width: 58.333333%;
}

body:not(.bootstrap-loaded) input[type="text"],
body:not(.bootstrap-loaded) input[type="password"] {
  margin-bottom: 8px;
}

body:not(.bootstrap-loaded) .navbar {
  background: #343a40;
  padding: 12px 16px;
  margin-bottom: 20px;
  color: white;
}

body:not(.bootstrap-loaded) .navbar-brand {
  font-size: 1.25rem;
  font-weight: bold;
  color: white;
  text-decoration: none;
}

body:not(.bootstrap-loaded) .small {
  font-size: 0.875rem;
}

@media (max-width: 991.98px) {
  body:not(.bootstrap-loaded) .col-lg-5,
  body:not(.bootstrap-loaded) .col-lg-7 {
    width: 100%;
  }
}

@media (max-width: 575.98px) {
  body:not(.bootstrap-loaded) .col-sm-5,
  body:not(.bootstrap-loaded) .col-sm-7 {
    width: 100%;
  }
}

.privacy-toggle {
  border: none !important;
  padding: 0.25rem 0.5rem;
  font-size: 1rem;
  line-height: 1;
}

.privacy-toggle:hover {
  background: rgba(255,255,255,0.2) !important;
}

.privacy-icon {
  display: inline-block;
  font-size: 1.1rem;
}

.iss-marker-icon div,
.sun-marker-icon div {
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
}

/* Enhanced Navbar Styles */
.navbar.navbar-enhanced {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  padding: 0.5rem 0 !important;
  min-height: auto !important;
  height: auto !important;
}

.navbar-enhanced .container-fluid {
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
  padding-left: 1rem !important;
  padding-right: 1rem !important;
}

.navbar-enhanced .navbar-brand {
  font-size: 1.05rem !important;
  font-weight: 600;
  letter-spacing: 0.3px;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0 !important;
  margin: 0 !important;
  line-height: 1 !important;
}

.navbar-enhanced .navbar-brand .brand-icon {
  font-size: 1.2rem !important;
  filter: drop-shadow(0 2px 4px rgba(255,255,255,0.3));
  line-height: 1 !important;
  display: inline-block;
}

.navbar-enhanced .nav-link {
  font-weight: 500;
  padding: 0.25rem 0.65rem !important;
  border-radius: 0.25rem;
  transition: all 0.2s ease;
  font-size: 0.9rem !important;
  line-height: 1 !important;
  margin: 0 !important;
}

.navbar-enhanced .nav-link:hover {
  background: rgba(255,255,255,0.1);
  transform: translateY(-1px);
}

.navbar-enhanced .nav-link.active {
  background: rgba(255,255,255,0.15);
  font-weight: 600;
}

/* Nuclear option: Override ALL Bootstrap navbar defaults */
.navbar-enhanced.navbar {
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
}

.navbar-enhanced .navbar-nav {
  padding: 0 !important;
  margin: 0 !important;
  margin-left: auto !important;
}

.navbar-enhanced .nav-item {
  padding: 0 !important;
  margin: 0 !important;
}

.navbar-enhanced .navbar-toggler {
  padding: 0.2rem 0.4rem !important;
  font-size: 1rem !important;
  border: 1px solid rgba(255,255,255,0.5) !important;
}

/* README Documentation Section Styles */
.readme-content {
  font-size: 0.95rem;
  line-height: 1.7;
  color: #2c3e50;
  max-width: 100%;
  overflow-x: hidden;
}

.readme-content h1 {
  font-size: 2rem;
  font-weight: 700;
  color: #1a1a2e;
  margin-top: 0;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 3px solid #0d6efd;
}

.readme-content h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #16213e;
  margin-top: 2rem;
  margin-bottom: 1rem;
  padding-bottom: 0.3rem;
  border-bottom: 2px solid #e9ecef;
}

.readme-content h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #0f3460;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.readme-content h4 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #495057;
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
}

.readme-content p {
  margin-bottom: 1rem;
}

.readme-content ul,
.readme-content ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.readme-content li {
  margin-bottom: 0.5rem;
}

.readme-content code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-size: 0.9em;
  color: #d63384;
  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
  border: 1px solid #e9ecef;
}

.readme-content pre {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 1rem;
  border-radius: 6px;
  overflow-x: auto;
  margin-bottom: 1rem;
  border: 1px solid #444;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
}

.readme-content pre code {
  background: transparent;
  color: inherit;
  padding: 0;
  border: none;
  font-size: 0.875rem;
  line-height: 1.5;
}

.readme-content blockquote {
  background: #e7f3ff;
  border-left: 4px solid #0d6efd;
  padding: 1rem 1.25rem;
  margin: 1rem 0;
  border-radius: 0 4px 4px 0;
}

.readme-content blockquote p {
  margin-bottom: 0;
}

.readme-content a {
  color: #0d6efd;
  text-decoration: none;
  font-weight: 500;
}

.readme-content a:hover {
  color: #0a58ca;
  text-decoration: underline;
}

.readme-content strong {
  font-weight: 600;
  color: #1a1a2e;
}

.readme-content table {
  width: 100%;
  margin-bottom: 1rem;
  border-collapse: collapse;
}

.readme-content table th,
.readme-content table td {
  padding: 0.75rem;
  border: 1px solid #dee2e6;
}

.readme-content table th {
  background: #f8f9fa;
  font-weight: 600;
}

/* Accordion enhancements for README */
#readmeAccordion .accordion-button {
  font-size: 1.1rem;
  font-weight: 600;
  color: #1a1a2e;
  background: #f8f9fa;
  padding: 1rem 1.25rem;
}

#readmeAccordion .accordion-button:not(.collapsed) {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  color: white;
}

#readmeAccordion .accordion-button:focus {
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

#readmeAccordion .accordion-body {
  padding: 1.5rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .readme-content {
    font-size: 0.9rem;
  }
  
  .readme-content h1 {
    font-size: 1.75rem;
  }
  
  .readme-content h2 {
    font-size: 1.35rem;
  }
  
  .readme-content h3 {
    font-size: 1.15rem;
  }
  
  .readme-content pre {
    padding: 0.75rem;
    font-size: 0.8rem;
  }
}

/* Footer styles */
.site-footer {
  width: 100%;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  color: #fff;
  box-shadow: 0 -2px 8px rgba(0,0,0,0.18);
  margin-top: 1.25rem;
}

.site-footer .container-fluid {
  padding-left: 1rem;
  padding-right: 1rem;
}

.site-footer .footer-link {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: rgba(255,255,255,0.95);
}

.site-footer .footer-link svg {
  width: 18px;
  height: 18px;
  vertical-align: middle;
  fill: currentColor;
}

.site-footer a:hover {
  text-decoration: underline;
  color: #fff;
}

@media (prefers-color-scheme: light) {
  .site-footer { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); color: #212529; }
  .site-footer .footer-link { color: #0d6efd; }
}
